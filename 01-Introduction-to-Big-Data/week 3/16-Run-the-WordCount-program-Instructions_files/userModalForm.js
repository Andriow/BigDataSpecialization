define("bundles/userModal/views/userModalForm",["require","exports","module","jquery","underscore","bundles/userModal/views/userModalState","js/lib/forms"],function(require,exports,module){"use strict";var $=require("jquery"),_=require("underscore"),e=require("bundles/userModal/views/userModalState"),r=require("js/lib/forms"),s=e.extend({events:{'submit [data-js~="form"]':"onSubmitClick"},postRender:function postRender(){this.form=r(this.$$("form")),this.form.on("change",this.verifyForm.bind(this))},serializeForm:function serializeForm(){var e=this.$$("form").serializeArray(),r=_(e).reduce(function(e,r){return e[r.name]=r.value,e},{});return r},onEnterState:function onEnterState(){var e=this;setTimeout(function(){e.$("[autofocus]").focus()})},onClose:function onClose(){this.form.off("change")},verifyForm:function verifyForm(s,t){var e=$(s.currentTarget),r=e.parents('[data-js~="control-group"]').find('[data-js~="error-icon"]');t.valid?(r.hide(),this.form.process().valid&&this.$$("submit").removeAttr("disabled")):(r.show(),e.addClass("error"),this.$$("submit").attr({disabled:"disabled"}))}});module.exports=s});