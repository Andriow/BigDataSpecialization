"use strict";define("js/lib/placeholder",["jquery"],function($){var e="placeholder",t=e in document.createElement("input")&&e in document.createElement("textarea");$.fn.placeholder=function(){if(!this.length)return;return this.each(function(){function hideInput(e){e.css({position:"absolute",left:"-9999em",tabindex:-1})}function showInput(e){e.css({position:"",left:""}).removeAttr("tabindex")}function placeholderOnFocus(c){if(!t&&a.data("placeholder")){var e=r?l.get(0):a.get(0);if(e.createTextRange){var n=e.createTextRange();n.moveStart("character",0),n.collapse(),n.select()}else e.setSelectionRange&&e.setSelectionRange(0,0)}}function invisibleKeyCode(e){return e>-1&&48>e&&32!=e||e>90&&96>e||e>111&&186>e||e>192&&219>e||e>219&&220>e}function placeholderOnKeyDown(n){a.hasClass(e)&&!invisibleKeyCode(n.which)&&(!t&&a.data("placeholder")&&(a.val(""),a.data("placeholder",!1),r&&(hideInput(l),showInput(a),a.focus())),a.removeClass(e))}function placeholderOnKeyUp(o){if(!t&&""===a.attr("value"))if(a.data("placeholder",!0),r?(hideInput(a),showInput(l),l.focus()):(a.addClass(e),a.val(n)),a.get(0).createTextRange){var c=a.get(0).createTextRange();c.moveStart("character",0),c.collapse(),c.select()}else a.get(0).setSelectionRange&&a.get(0).setSelectionRange(0,0)}function placeholderOnBlur(c){""===a.val()&&(a.addClass(e),t||(a.data("placeholder",!0),r?(showInput(l),hideInput(a)):a.val(n)))}var a=$(this),n=a.attr("placeholder"),r="password"===a.attr("type"),l,c,o;r&&!t?(l=$("<input>").attr({type:"text",value:n,"class":a.attr("class"),style:a.attr("style")}),l.data(a.data()),a.before(l),l.bind("keydown.placeholder",placeholderOnKeyDown),l.bind("focus.placeholder",placeholderOnFocus)):a.bind("keydown.placeholder",placeholderOnKeyDown),a.data("placeholder",!0),a.bind("blur.placeholder",placeholderOnBlur).trigger("blur.placeholder"),a.bind("focus.placeholder",placeholderOnFocus),a.bind("keyup.placeholder",placeholderOnKeyUp)})};var a;t||(a=$.fn.val,$.fn.val=function(t){if(!arguments.length){var e=$(this);return e.data("placeholder")&&e.attr("value")==e.attr("placeholder")?"":a.call(this)}return a.call(this,t)})});