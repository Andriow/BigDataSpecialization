define("bundles/content-feedback/components/rating/CourseRatingIcons",["require","exports","module","classnames","react","css!./__styles__/CourseRatingIcons"],function(require,exports,module){"use strict";function _defaults(e,o){for(var s=Object.getOwnPropertyNames(o),t=0;t<s.length;t++){var n=s[t],r=Object.getOwnPropertyDescriptor(o,n);r&&r.configurable&&void 0===e[n]&&Object.defineProperty(e,n,r)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t,n,r=require("classnames"),e=require("react");require("css!./__styles__/CourseRatingIcons");var o=(n=t=function(t){function CourseRatingIcons(){var r,e,o;_classCallCheck(this,CourseRatingIcons);for(var s=arguments.length,a=Array(s),n=0;s>n;n++)a[n]=arguments[n];return r=e=_possibleConstructorReturn(this,t.call.apply(t,[this].concat(a))),e.state={highlightValue:-1},e.handleMouseLeave=function(){e.setState({highlightValue:-1})},o=r,_possibleConstructorReturn(e,o)}return _inherits(CourseRatingIcons,t),CourseRatingIcons.prototype.handleMouseOver=function handleMouseOver(e){this.setState({highlightValue:e})},CourseRatingIcons.prototype.handleSelect=function handleSelect(e){this.setState({highlightValue:-1}),this.props.onSelect&&this.props.onSelect(e)},CourseRatingIcons.prototype.renderIcon=function renderIcon(t,o){var a=this,n=t<=this.state.highlightValue,s=this.state.highlightValue>-1,i=t%1!==0,c=r("c-course-rating-icon",{"cif-star":n||o&&!s&&!i,"cif-star-half-empty":!n&&o&&!s&&i,"cif-star-o":!n&&(!o||s),highlight:n});return e.createElement("i",{key:t,className:c,onMouseOver:!this.props.readOnly&&function(){return a.handleMouseOver(t)},onClick:function onClick(){return a.handleSelect(t)}})},CourseRatingIcons.prototype.render=function render(){var t=this,n=r("rc-CourseRatingIcons",this.props.size,{"read-only":this.props.readOnly}),o=CourseRatingIcons.getRatingDistribution(this.props.value);return e.createElement("div",{className:n,onMouseLeave:this.handleMouseLeave},o.map(function(e){var n=e.value,r=e.selected;return t.renderIcon(n,r)}))},CourseRatingIcons}(e.Component),t.propTypes={onSelect:e.PropTypes.func,readOnly:e.PropTypes.bool,value:e.PropTypes.number.isRequired,size:e.PropTypes.oneOf(["small","large"])},t.defaultProps={size:"small",readOnly:!0},t.getRatingDistribution=function(r){var e=.5,t=[],n=Math.round(2*r)/2;for(5!==r&&(n=Math.min(n,4.5));n>=e;){var o=e%1!==0;o?e+.5>n?(t.push({value:e,selected:!0}),e+=1):e+=.5:(t.push({value:e,selected:!0}),e+=.5)}for(e%1!==0&&(e+=.5);5>=e;)t.push({value:e,selected:!1}),e+=1;return t},n);module.exports=o});